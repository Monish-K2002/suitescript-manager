<!DOCTYPE html>
		<html>
		<head>
			<style>
				body {
					font-family: monospace;
					background: #1e1e1e;
					color: #ddd;
				}
				.log {
					white-space: pre-wrap;
					margin-bottom: 8px;
				}
				.ERROR { color: #f14c4c; }
				.WARN  { color: #cca700; }
				.DEBUG { color: #4fc1ff; }
				th, td {
					border: 1px solid #ffffffff;
					border-collapse: collapse;
					padding: 4px;
				}
			</style>
		</head>
		<body>
			<h3>NetSuite Live Logs</h3>
			<div id="logs">
				<table width='100%'>
					<thead>
						<tr>
							<th style="width: 15%;">Time</th>
							<th style="width: 10%;">Type</th>
							<th style="width: 15%;">User</th>
							<th style="width: 60%;">Message</th>
						</tr>
					</thead>
					<tbody id="logs-body"></tbody>
				</table>
			</div>

			<script>
				const vscode = acquireVsCodeApi();
				const MAX_ROWS = 500;

				window.addEventListener("message", event => {
					const msg = event.data;
					if (!Array.isArray(msg?.payload)) return;

					const tbody = document.getElementById("logs-body");
					msg.payload.forEach((logData) => {
						const row = document.createElement("tr");

						const dateCell = document.createElement("td");
						dateCell.align = "center";
						dateCell.textContent = String(logData.date ?? "");

						const typeCell = document.createElement("td");
						typeCell.align = "center";
						typeCell.textContent = String(logData.type ?? "");

						const userCell = document.createElement("td");
						userCell.align = "center";
						userCell.textContent = String(logData.user ?? "");

						const messageCell = document.createElement("td");
						messageCell.textContent = String(logData.message ?? "");

						row.appendChild(dateCell);
						row.appendChild(typeCell);
						row.appendChild(userCell);
						row.appendChild(messageCell);
						tbody.appendChild(row);

						while (tbody.rows.length > MAX_ROWS) {
							tbody.removeChild(tbody.firstChild);
						}
					});
				});
			</script>
		</body>
		</html>
